## IPv4

IPv4는 4개의 8비트 옥텟으로 나누어진 32개의 이진 비트로 표현된다.

IPv4 Address는 Network Portion과 Host Portion으로 나뉜다.

Network와 Host를 컴퓨터가 구별할 수 있게 서브넷 마스크라는 개념을 사용합니다.
Network Portion에 해당하는 부분을 모두 1로 이외는 0으로 채운걸 서브넷 마스크라고 합니다.

IPv4 Address와 서브넷 마스크에 AND 연산을 거쳐서 Network와 Host를 구별할 수 있습니다.

- 자주 등장하는 2진수
- 11000000 (192), 10101000(168), 10000111(135)

### IPv4를 동적으로 할당 받는 방법

1. IP를 할당받지 못한 LAN카드가 있다면, DHCP 서버에 IP를 달라고 요청하기 위해서 브로드 캐스트한다. (DHCP 서버가 어디 있는 지 모르기 때문에)
2. DHCP 서버는 사용 가능한 IP 주소를 장치에 제안한다.
3. 장치는 제안된 IP 주소를 요청한다.
4. DHCP 서버는 해당 IP 주소를 장치에 할당하고 확인 메시지를 보낸다.

## 스위치

스위치는 허브 장비의 단점인 Collision Domain(충돌 도메인) 문제를 해결하기 위해 개발한 장치이다.

데이터 링크 계층에서 작동하는 네트워크 브릿지이다.
각각 포트에 연결된 디바이스의 MAC 주소를 저장하고, 이 정보를 이용해서 포트를 스위칭한다.

### 스위치 5대 기능

- 러닝: 스위치는 각각 포트에 연결된 장치의 MAC 주소를 학습한다.
- 플러딩: 스위치가 전달하려는 프레임의  목적지 MAC주소를 모를 경우, 스위치는 연결된 모든 포트로 브로드캐스트한다.
- 포워딩: 전달하려는 프레임의 목적지 주소를 알 경우, MAC 주소가 있는 포트로만 데이터를 전송한다.
- 필터링: 스위치가 전달하려는 프레임을 필요 없는 포트로는 보내지 않도록 하는 기능이다.
- 에이징: 일정 시간이 지나고 사용되지 않는 MAC 주소 항목은 삭제한다.

### **Transparent brdging**

Switch가 수신한 Ethernet Frame을 참조하여 MAC address table을 생성 및 갱신하고 목적지로 전송할 때 사용하는 Protocol이다.

## 라우터

### 라우터

라우팅 테이블을 이용하여 서로 다른 브로드 캐스트 영역 간에 패킷을 전달하는 네트워크 핵심 장치

### 라우팅

- 라우팅 테이블을 수동으로 설정하는 정적 테이블, 자동으로 네트워크 탐색 및 등록 과정을 수행하도록하는 동적 라우팅으로 나뉜다.
- 적용된 라우팅 프로토콜을 기반으로 최적 경로 선택 및 패킷을 전달한다.
- 정적 라우팅은 비교적 설정이 간단, 라우터 장치의 부담이 상대적으로 적다.
  단 네트워크 토폴로지가 변경될 경우 이에 따른 수정을 네트워크 관리자가 해야한다.

## 스위치 vs 라우터

|  | 스위치 | 라우터 |
| --- | --- | --- |
| 데이터의 전송 범위 | 같은 네트워크 내부 | 네트워크 사이 |
| 전송을 위해 이용하는 테이블 | MAC 주소 테이블 | 라우팅 테이블 |
| 전송할 때 참조하는 주소 | MAC 주소 | IP 주소 |
| 테이블에 필요한 정보가 없을 때의 동작 | 데이터를 플러딩(브로캐스트)한다. | 데이터를 파기한다. |

